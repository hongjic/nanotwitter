<!Doctype html>
<html>
<head>
</head>
<body>
  <h2>Sign in and see what's happening</h2>
  <input type="text" placeholder="username" id="username" />
  <input type="password" placeholder="password" id="password" />
  <button id="sign_in">Sign In</button>
  <p id="tips"></p>
</body>
<script src="js/jquery.min-2.1.4.js"></script>
<script type="text/javascript">

  function login(username, password) {
    data = {username: username, password: password};
    $.ajax({
      type: "post",
      contentType: "application/json;charset=utf-8",
      dataType: "json",
      url: "/api/v1/users/login",
      data: JSON.stringify(data),
      success: function(result) {
        if (result.resultCode == "success") {
          var exp = new Date();
          exp.setTime(exp.getTime() + 30*24*60*60*1000);
          document.cookie = "access_token=" + escape(result.resultMsg.access_token) + ";expires=" + exp.toGMTString();
          window.location = "/";
        }
        else $("#tips").text(result.resultMsg);
      }
    })
  }

  $("#sign_in").click(function(){
    var username = $("#username").val();
    var password = $("#password").val();
    login(username, password)
  });

</script>
</html>