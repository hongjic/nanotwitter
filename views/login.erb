<!Doctype html>
<html>
<head>
</head>
<body>
  <input type="text" placeholder="username" id="username" />
  <input type="password" placeholder="password" id="password" />
  <button id="login">Sign In</button>
  <p id="tips"></p>
</body>
<script src="js/jquery.min.js"></script>
<script type="text/javascript">
  function login(username, password) {
    data = {username: username, password: password};
    $.ajax({
      type: "post",
      dataType: "json",
      url: "/login",
      data: data,
      success: function(result) {
        if (result.resultCode == "success") {
          localStorage.setItem("access_token", result.resultMsg.access_token);
          window.location = "/";
        }
        else $("#tips").text(result.resultMsg);
      },
      error: function(xhr, textStatus, errorThrown) {
        console.log("error");
      }
    })
  }

  $("#sign_in").click(function(){
    var username = $("#username").val();
    var password = $("#password").val();
    login(username, password)
  });

</script>
</html>